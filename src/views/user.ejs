<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit User</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<style>
    .user-avatar-dropdown {
      position: relative;
      display: inline-block;
    }

    .user-avatar-dropdown .dropdown-menu {
      display: none;
      top: 100%;
      right: 0;
      min-width: 150px;
      z-index: 1000;
    }

    .user-avatar-dropdown:hover .dropdown-menu {
      display: block;
    }

    .user-avatar-dropdown .dropdown-item {
      padding: 10px;
      text-align: left;
      color: #333;
    }

    .user-avatar-dropdown .dropdown-item:hover {
      background-color: #f8f9fa;
      color: #333;
    }

    .user-avatar-dropdown .dropdown-item.text-danger:hover {
      background-color: #ffdddd;
      color: #a00;
    }

  </style>
<body>
    <%- include('header') %>
    <div class="container" style="margin-top: 150px;">

        <form action="../api/v1/users/update-user/<%= user._id %>" method="post">
            <input type="hidden" name="_method" value="PUT">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" class="form-control" id="name" name="name" value="<%= user.name %>" required>
                    </div>

                    <div class="form-group">
                        <label for="age">Age:</label>
                        <input type="number" class="form-control" id="age" name="age" value="<%= user.age %>" required>
                    </div>

                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" class="form-control" id="email" name="email" value="<%= user.email %>" required>
                    </div>
                </div>

                <div class="col-md-6">

                    <div class="form-group">
                        <label for="avatar">Address:</label>
                        <input type="text" class="form-control" id="address" name="address" value="<%= user.address %>">
                    </div>
                    <div class="form-group">
                        <label for="avatar">Phone:</label>
                        <input type="text" class="form-control" id="phone" name="phone" value="<%= user.phone %>">
                    </div>


                    <div class="form-group">
                        <label for="avatar">Avatar URL:</label>
                        <input type="text" class="form-control" id="avatar" name="avatar" value="<%= user.avatar %>">
                    </div>
                </div>
            </div>

            <button type="submit" class="btn btn-primary mt-3">Save Changes</button>
        </form>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="/lib/lightbox/js/lightbox.min.js"></script>
<script src="/lib/owlcarousel/owl.carousel.min.js"></script>

<!-- Template Javascript -->
<script src="/js/main.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const userAvatarDropdown = document.querySelector('.user-avatar-dropdown');
    if (userAvatarDropdown) {
        const dropdownMenu = userAvatarDropdown.querySelector('.dropdown-menu');

        userAvatarDropdown.addEventListener('mouseenter', function() {
            dropdownMenu.style.display = 'block';
        });

        userAvatarDropdown.addEventListener('mouseleave', function() {
            dropdownMenu.style.display = 'none';
        });

        userAvatarDropdown.addEventListener('click', function(event) {
            event.stopPropagation();
            dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
        });

        document.addEventListener('click', function(event) {
            if (!userAvatarDropdown.contains(event.target)) {
                dropdownMenu.style.display = 'none';
            }
        });
    }
});
</script>
</body>

</html>
